<!DOCTYPE html>
<html>
<head>
<title>Crystal Collector</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<style>
.image{
	width:150px;
	length:auto;
}
</style>
</head>
<body>
<h1>Crystal Collector</h1>

<div class="buttons">       
    <img class="image" id="image1"  alt="crystal1" src="guess.png">
    <img class="image" id="image2"  alt="crystal2" src="guess.png">
    <img class="image" id="image3"  alt="crystal3" src="guess.png">
    <img class="image" id="image4"  alt="crystal4" src="guess.png">
</div>

<div>
<button id="getnumber" type="button">New Game</button>
<h1>Number to guess: <span id="numbertoguess"></span></h1>
<p>Total: <span id="total"></span></p>
<p>Win: <span id="win"></span></p>
<p>Loss: <span id="loss"></span></p>
</div>

<script>
$(document).ready(function(){

//start of jquery
var crystalValues = [];
var total= 0;
var win = 0;
var loss = 0;
var numbertoguess = 0;
var max = 50;
var min = 20;



//randomly generate a number to guess between min and max when click button for new game
function game(){
$("#getnumber").on("click", function(){
numbertoguess = Math.floor(Math.random()*(max-min+1)+min);
//console.log(numbertoguess);
$("#numbertoguess").text(numbertoguess);

//assign random number to each crystalValues, such that there is no duplication
crystalValues =[];
while (crystalValues.length < 4){
	var newNum = Math.floor(Math.random()*12+1);
	if (crystalValues.indexOf(newNum) < 0){
	crystalValues.push(newNum);
	}
}
console.log(crystalValues);
//assign attribute data to each image
for (var i = 0; i < crystalValues.length; i++){
$("#image"+(i+1)).attr("value", crystalValues[i])
}
//reset stuff
total= 0;
$("#total").text(total);

return true;

})
};






//onclick of each image crystal
function clickCrystal(){
$(".image").on("click", function(){
//get the value when click on the image 
var crysValue = ($(this).attr("value"));
crysValue = parseInt(crysValue);
//console.log(crysValue);
total += crysValue;
console.log(total);
$("#total").text(total);

if (total === numbertoguess){
	win++;
	$("#win").text(win);
} else if (total >= numbertoguess){
	loss++;
	$("#loss").text(loss);
	reset();

}

})
};

function reset(){
var crystalValues = [];
var total= 0;
var numbertoguess = 0;
$("#total").text(total);
};



game();
clickCrystal();

//end of ready
});
</script>
</body>
</html>
